theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19");
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$cada100)]);
grRank2 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(y = deathsAcum / popData2018 * 100000, label = paste(format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1), " (", format(deathsAcum, big.mark = "."), ")", sep = "")), color="grey", size=3, nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
graficoRanking <- grRank1 + grRank2;
graficoRanking
grRank2 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
" (",
format(deathsAcum, big.mark = "."),
")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
grRank2
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%d", deathsAcum / popData2018 * 100000),
" (",
format(deathsAcum, big.mark = "."),
")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%f", deathsAcum / popData2018 * 100000),
" (",
format(deathsAcum, big.mark = "."),
")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%f.2", deathsAcum / popData2018 * 100000),
" (",
format(deathsAcum, big.mark = "."),
")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.2f", deathsAcum / popData2018 * 100000),
" (",
format(deathsAcum, big.mark = "."),
")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.2f (%f)", deathsAcum / popData2018 * 100000, deathsAcum),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.2f (%d)", deathsAcum / popData2018 * 100000, deathsAcum),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.2f (%d)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.2f (%s)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.1f (%s)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption)
datosparapie <- aggregate(deathsAcum ~ countriesAndTerritories + popData2018, data = datoscovidok, FUN = max);
datosparapie$cada100 <- datosparapie$deathsAcum / datosparapie$popData2018 * 100000;
library(RColorBrewer)
myPalette <- brewer.pal(NROW(datosparapie), "Set2");
datosparapie2 <- datosparapie[datosparapie$deathsAcum>300, ];
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$deathsAcum)]);
#datosparapie2 <- datosparapie2[rev(order(datosparapie2$deathsAcum)), ];
grRank1 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(y = deathsAcum, label = format(deathsAcum, big.mark = ".")), color="grey", size=3, nudge_y = 4000) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19");
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$cada100)]);
grRank2 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.1f (%s)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 4) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
graficoRanking <- grRank1 + grRank2;
graficoRanking
grRank1 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(y = deathsAcum, label = format(deathsAcum, big.mark = ".")), color="grey", size=3, nudge_y = 5000) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19");
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$cada100)]);
grRank2 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.1f (%s)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 6) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
graficoRanking <- grRank1 + grRank2;
graficoRanking
datosparapie <- aggregate(deathsAcum ~ countriesAndTerritories + popData2018, data = datoscovidok, FUN = max);
datosparapie$cada100 <- datosparapie$deathsAcum / datosparapie$popData2018 * 100000;
library(RColorBrewer)
myPalette <- brewer.pal(NROW(datosparapie), "Set2");
datosparapie2 <- datosparapie[datosparapie$deathsAcum>300, ];
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$deathsAcum)]);
#datosparapie2 <- datosparapie2[rev(order(datosparapie2$deathsAcum)), ];
grRank1 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(y = deathsAcum, label = format(deathsAcum, big.mark = ".")), color="grey", size=3, nudge_y = 5000) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19");
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$cada100)]);
grRank2 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.1f (%s)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 6) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
graficoRanking <- grRank1 + grRank2;
graficoRanking
datosparapie <- aggregate(deathsAcum ~ countriesAndTerritories + popData2018, data = datoscovidok, FUN = max);
datosparapie$cada100 <- datosparapie$deathsAcum / datosparapie$popData2018 * 100000;
library(RColorBrewer)
myPalette <- brewer.pal(NROW(datosparapie), "Set2");
datosparapie2 <- datosparapie[datosparapie$deathsAcum>300, ];
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$deathsAcum)]);
#datosparapie2 <- datosparapie2[rev(order(datosparapie2$deathsAcum)), ];
grRank1 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(y = deathsAcum, label = format(deathsAcum, big.mark = ".")), color="grey", size=3, nudge_y = 5000) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19");
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$cada100)]);
grRank2 <- ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum / popData2018 * 100000) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum / popData2018 * 100000), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(
aes(
y = deathsAcum / popData2018 * 100000,
label = paste(
#format(deathsAcum / popData2018 * 100000, big.mark = ".", nsmall = 1),
sprintf("%.1f (%s)", deathsAcum / popData2018 * 100000, format(deathsAcum, big.mark = ",")),
#" (",
#format(deathsAcum, big.mark = "."),
#")",
sep = "")),
color="grey",
size=3,
nudge_y = 8) +
scale_y_continuous(labels = scales::comma_format()) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
labs(
y = "Muertes por Covid-19 cada 100.000 habitantes",
caption = caption);
graficoRanking <- grRank1 + grRank2;
graficoRanking
