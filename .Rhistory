coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
datosparapie <- aggregate(deathsAcum ~ countriesAndTerritories, data = datoscovidok, FUN = max);
library(RColorBrewer)
myPalette <- brewer.pal(NROW(datosparapie), "Set2");
datosparapie2 <- datosparapie[datosparapie$deathsAcum>100, ];
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$deathsAcum)]);
#datosparapie2 <- datosparapie2[rev(order(datosparapie2$deathsAcum)), ];
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum), size=3, nudge_y = 10) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum), size=3, nudge_y = 100) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum), size=3, nudge_y = 1000) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum, color="grey"), size=3, nudge_y = 1000) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
datosparapie <- aggregate(deathsAcum ~ countriesAndTerritories, data = datoscovidok, FUN = max);
library(RColorBrewer)
myPalette <- brewer.pal(NROW(datosparapie), "Set2");
datosparapie2 <- datosparapie[datosparapie$deathsAcum>200, ];
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$deathsAcum)]);
#datosparapie2 <- datosparapie2[rev(order(datosparapie2$deathsAcum)), ];
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum, color="grey"), size=3, nudge_y = 1000) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
datosparapie <- aggregate(deathsAcum ~ countriesAndTerritories, data = datoscovidok, FUN = max);
library(RColorBrewer)
myPalette <- brewer.pal(NROW(datosparapie), "Set2");
datosparapie2 <- datosparapie[datosparapie$deathsAcum>200, ];
datosparapie2$countriesAndTerritories <- factor(datosparapie2$countriesAndTerritories, levels = datosparapie2$countriesAndTerritories[order(datosparapie2$deathsAcum)]);
#datosparapie2 <- datosparapie2[rev(order(datosparapie2$deathsAcum)), ];
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum), color="grey", size=3, nudge_y = 1000) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum), color="grey", size=3, nudge_y = 10000) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
ggplot(data = datosparapie2,
mapping = aes(x=countriesAndTerritories, y=deathsAcum) ) +
geom_segment( aes(x=countriesAndTerritories ,xend=countriesAndTerritories, y=0, yend=deathsAcum), color="grey") +
geom_point(size=3, color="#69b3a2") +
geom_text(aes(label = deathsAcum), color="grey", size=3, nudge_y = 5000) +
coord_flip() +
theme(
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
legend.position="none"
) +
xlab("") +
ylab("Weapon quantity (SIPRI trend-indicator value)")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
source('~/covid/publica/fasecero.github.io/scripts/grafico10.r')
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*10000, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*10000, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./10000, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha))) +
geom_text_repel(aes(y = tasaDiaria*10000, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*50000, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*50000, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./50000, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha))) +
geom_text_repel(aes(y = tasaDiaria*50000, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 10000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha))) +
geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 5000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha))) +
geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 10000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha))) +
geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 16600;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha))) +
geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 16600;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 10000)) +
geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 50000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 10000)) +
geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 66600;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 10000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
ultimaFecha
datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',]
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 66600;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 13000))
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 66600;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1))) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados') +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados', title = "Casos confirmados y tasa diara de crecimiento Argentina") +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados', title = "Casos confirmados y tasa diara de crecimiento Argentina", , caption = caption) +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
#grafico argentina EJE SECUNDARIO
# datoscovidok$tasaDiaria <- with(datoscovidok, (casesAcum/(casesAcum - casesAcumSemana))^(1/7)-1);
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados', title = "Casos confirmados y tasa diara de crecimiento Argentina", caption = caption) +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados', x = element_blank(), title = "Casos confirmados y tasa diara de crecimiento Argentina", caption = caption) +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, 12000))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados', x = element_blank(), title = "Casos confirmados y tasa diara de crecimiento Argentina", caption = caption) +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, max(casesAcum)))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
factorSecundario <- 100000;
require("ggrepel");
set.seed(42);
ggplot(
data = datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina',],
mapping = aes(
x = realDate
)) +
geom_line(aes(y = casesAcum, colour = 'Casos')) +
geom_line(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
geom_point(aes(y=casesAcum, colour = 'Casos')) +
geom_point(aes(y = tasaDiaria*factorSecundario, colour = 'Tasa')) +
scale_y_continuous(sec.axis = sec_axis(~./factorSecundario, name = "Tasa", labels = scales::percent_format(accuracy = 1)), labels = scales::comma_format()) +
theme(
legend.position="bottom",
legend.title  = element_blank()) +
labs(y = 'Casos confirmados', x = element_blank(), title = "Casos confirmados y tasa diara de crecimiento Argentina", caption = caption) +
coord_cartesian(xlim = c(as.Date('2020-03-15'), max(ultimaFecha)), ylim = c(0, max(datoscovidok[datoscovidok$countriesAndTerritories == 'Argentina', c('casesAcum')])))
#geom_text_repel(aes(y = tasaDiaria*factorSecundario, label = sprintf("%1.1f%%", 100*tasaDiaria), colour = 'Tasa'), vjust = "inward", hjust = "inward", size=3)
